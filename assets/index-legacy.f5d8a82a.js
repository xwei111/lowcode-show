System.register(["./index-legacy.ff868639.js","./index-legacy.b38d57f1.js","./index-legacy.8897ee18.js","./router-legacy.c07cb4c1.js"],(function(e,t){"use strict";var n,a,r,l,s,i,o=document.createElement("style");return o.textContent=".externals_content[data-v-345568cb]{width:100%;height:100%;overflow:hidden;background-color:#fff;box-shadow:0 0 10px #ccc}.externals_content .externals_header[data-v-345568cb]{box-sizing:border-box;padding:20px}.externals_content .externals_header .externals_title[data-v-345568cb]{font-size:20px;font-weight:600;line-height:28px;margin-bottom:10px}.externals_content .externals_header .externals_desc[data-v-345568cb]{color:rgba(0,0,0,.4);font-size:12px;line-height:20px;margin-top:8px}.externals_main[data-v-345568cb]{display:flex;align-items:center;justify-content:center}.externals_main .externals_adds[data-v-345568cb]{width:100%;height:40px;display:flex;align-items:center;justify-content:center}.externals_main .externals_adds .externals_ipt[data-v-345568cb]{width:40%;height:100%}.externals_main .externals_adds .externals_ipt[data-v-345568cb] .el-input__inner{height:100%;border-top-right-radius:0;border-bottom-right-radius:0}.externals_main .externals_adds .externals_add[data-v-345568cb]{height:100%;width:100px;background:#409EFF;display:flex;align-items:center;justify-content:center;color:#fff;border-top-right-radius:4px;border-bottom-right-radius:4px;cursor:pointer}.externals_tables[data-v-345568cb]{box-sizing:border-box;padding:40px 20px 20px}\n",document.head.appendChild(o),{setters:[function(e){n=e.n,a=e.r,r=e.e},function(e){l=e.a},function(e){s=e.T},function(e){i=e.g}],execute:function(){var t=[{prop:"name",label:"外部资源名称"},{prop:"url",label:"外部资源链接"},{prop:"type",label:"外部资源类型"},{prop:"operate",label:"操作"}];e("default",n({components:{Table:s},setup:function(){var e=l.dataApis,n=e.addExternals,s=e.deleteExternals,o=e.getExternals,d=i().projectId,c=a(),u=a(),x=/^((http|https):\/\/)?(([A-Za-z0-9]+-[A-Za-z0-9]+|[A-Za-z0-9]+)\.)+([A-Za-z]+)[/\?\:]?.*$/,p=function(){o({projectId:d}).then((function(e){u.value=null!=e?e:[]}))};p();var v=function(e,t){var n;return null===(n=u.value)||void 0===n?void 0:n.find((function(n){return n[e]===t}))};return{url:c,list:u,columns:t,addHandle:function(){var e,t,a;if(!c.value)return r.exports.Message("请输入地址");if(!x.test(c.value))return r.exports.Message.warning("请输入正确的地址");if(v("url",c.value))return r.exports.Message.warning("资源已存在");var l=null!==(e=null===(t=c.value)||void 0===t?void 0:t.split("/"))&&void 0!==e?e:[],s=l[(null==l?void 0:l.length)-1];if(!s)return r.exports.Message.warning("缺失资源名称");if(v("name",s))return r.exports.Message.warning("资源名称重复，请检查是否存在不同版本资源");var i=null!==(a=null==s?void 0:s.split("."))&&void 0!==a?a:[],o=i[(null==i?void 0:i.length)-1];if("js"!==o&&"css"!==o||!o)return r.exports.Message.warning("不支持非Js/Css资源");n({projectId:d,url:c.value,type:o,name:s}).then((function(){c.value=null,p()}))},deleteHandle:function(e){s(null==e?void 0:e.id).then((function(){return p()}))}}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"externals_content"},[e._m(0),t("div",{staticClass:"externals_main"},[t("div",{staticClass:"externals_adds"},[t("el-input",{staticClass:"externals_ipt",attrs:{placeholder:"请输入外部资源地址"},model:{value:e.url,callback:function(t){e.url="string"==typeof t?t.trim():t},expression:"url"}}),t("div",{staticClass:"externals_add",on:{click:e.addHandle}},[e._v("添加")])],1)]),t("div",{staticClass:"externals_tables"},[t("Table",{attrs:{data:e.list,columns:e.columns,border:""},scopedSlots:e._u([{key:"operate",fn:function(n){var a=n.row;return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteHandle(a)}}},[e._v("删除")])]}}])})],1)])}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"externals_header"},[t("div",{staticClass:"externals_title"},[e._v("加载外部资源(JS/CSS)")]),t("div",{staticClass:"externals_desc"},[e._v(" 应用初始化时默认加载该资源，可在“代码编辑器”中调用该资源 ")])])}],!1,null,"345568cb",null,null).exports)}}}));
