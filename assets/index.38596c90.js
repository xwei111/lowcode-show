import{n as f,r as d,e as u,c as y}from"./index.2d473fb6.js";import{a as k}from"./index.b06e3bcc.js";import{g}from"./router.05a83631.js";import{C as x}from"./index.63e27fed.js";const h={components:{Copy:x},setup(){const{emit:n}=y("updateProjectTitle"),{projectId:e}=g(),{getProject:t,updateProject:a,getProjects:p}=k.dataApis,c=d({}),s=d(),_=d(!1),l=d();t({id:e}).then(i=>{c.value=i!=null?i:{}});const m=i=>{var o;l.value=i,_.value=!0,s.value=(o=c.value)==null?void 0:o[i]},v=()=>{l.value=null,_.value=!1,s.value=null};return{show:_,key:l,field:s,detail:c,onEnter:async()=>{if(!s.value)return u.exports.Message.warning("\u8F93\u5165\u503C\u4E0D\u80FD\u4E3A\u7A7A");if(l.value==="code"){if(!/^[A-Za-z][A-Za-z\_\-]*[A-Za-z]$/.test(s.value))return u.exports.Message.warning("\u683C\u5F0F\u9519\u8BEF");const r=await p();if(r==null?void 0:r.find(C=>C.code===s.value))return u.exports.Message.warning("\u8BE5\u6807\u8BC6\u5DF2\u5B58\u5728")}const i={};i[l.value]=s.value,a(e,i).then(o=>{l.value==="name"&&n(),c.value[l.value]=s.value,v()})},editHandle:m,cancleHandle:v}}};var b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"detail_content"},[t("div",{staticClass:"detail_title"},[e._v("\u57FA\u7840\u8BBE\u7F6E")]),t("div",{staticClass:"detail_item"},[t("div",{staticClass:"detail_label"},[e._v("\u5E94\u7528\u540D\u79F0")]),t("div",{staticClass:"detail_value"},[t("div",{staticClass:"detail_value_content"},[t("div",[e.show&&e.key==="name"?t("el-input",{nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.onEnter.apply(null,arguments)}},model:{value:e.field,callback:function(a){e.field=typeof a=="string"?a.trim():a},expression:"field"}}):t("span",[e._v(e._s(e.detail.name||"- -"))])],1),e.show&&e.key==="name"?t("i",{staticClass:"detail_icon el-icon-close",on:{click:e.cancleHandle}}):t("i",{staticClass:"detail_icon el-icon-edit",on:{click:function(a){return e.editHandle("name")}}}),e.detail.name?t("Copy",{staticClass:"detail_icon",attrs:{content:e.detail.name}}):e._e()],1)])]),t("div",{staticClass:"detail_item"},[t("div",{staticClass:"detail_label"},[e._v("\u5E94\u7528\u6807\u8BC6")]),t("div",{staticClass:"detail_value"},[t("div",{staticClass:"detail_value_content"},[t("div",[e.show&&e.key==="code"?t("el-input",{nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.onEnter.apply(null,arguments)}},model:{value:e.field,callback:function(a){e.field=typeof a=="string"?a.trim():a},expression:"field"}}):t("span",[e._v(e._s(e.detail.code||"- -"))])],1),e.show&&e.key==="code"?t("i",{staticClass:"detail_icon el-icon-close",on:{click:e.cancleHandle}}):e._e(),!(e.show&&e.key==="code")&&!e.detail.code?t("i",{staticClass:"detail_icon el-icon-edit",on:{click:function(a){return e.editHandle("code")}}}):e._e(),e.detail.code?t("Copy",{staticClass:"detail_icon",attrs:{content:e.detail.code}}):e._e()],1),e._m(0)])]),t("div",{staticClass:"detail_item"},[t("div",{staticClass:"detail_label"},[e._v("\u5E94\u7528\u63CF\u8FF0")]),t("div",{staticClass:"detail_value"},[t("div",{staticClass:"detail_value_content"},[t("div",[e.show&&e.key==="desc"?t("el-input",{nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.onEnter.apply(null,arguments)}},model:{value:e.field,callback:function(a){e.field=typeof a=="string"?a.trim():a},expression:"field"}}):t("span",[e._v(e._s(e.detail.desc||"- -"))])],1),e.show&&e.key==="desc"?t("i",{staticClass:"detail_icon el-icon-close",on:{click:e.cancleHandle}}):t("i",{staticClass:"detail_icon el-icon-edit",on:{click:function(a){return e.editHandle("desc")}}})])])])])},w=[function(){var n=this,e=n._self._c;return e("div",{staticClass:"detail_desc"},[e("p",[n._v("\u5E94\u7528\u6807\u8BC6\u89C4\u5219\u53CA\u4F7F\u7528\u5982\u4E0B")]),e("p",[n._v("1. \u4F5C\u4E3A\u751F\u6210\u4EE3\u7801\u76EE\u5F55\u540D\u79F0")]),e("p",[n._v("2. \u4F5C\u4E3Agit\u4ED3\u5E93\u540D")]),e("p",[n._v("3. \u63D0\u4EA4\u4EE3\u7801\u9700\u5B8C\u6210\u8BE5\u914D\u7F6E\u3001\u4E00\u65E6\u586B\u5199\u5C06\u4E0D\u5141\u8BB8\u4FEE\u6539")]),e("p",[n._v("4. \u7531\u82F1\u6587\u5B57\u6BCD\u3001\u6A2A\u6760\u3001\u4E0B\u5212\u7EBF\u7EC4\u6210\uFF0C\u81F3\u5C11\u4E24\u4E2A\u5B57\u7B26")]),e("p",[n._v("5. \u53EA\u80FD\u4EE5\u82F1\u6587\u5F00\u5934\u82F1\u6587\u7ED3\u675F")])])}],H=f(h,b,w,!1,null,"4bfe0ece",null,null);const E=H.exports;const O={components:{Detail:E},setup(){}};var j=function(){var e=this,t=e._self._c;return t("div",{staticClass:"config_content"},[t("div",{staticClass:"config_header"},[e._v("\u5E94\u7528\u8BBE\u7F6E")]),t("div",{staticClass:"config_wraper"},[e._m(0),t("div",{staticClass:"config_main"},[t("Detail")],1)])])},z=[function(){var n=this,e=n._self._c;return e("div",{staticClass:"config_menu"},[e("div",{staticClass:"config_list"},[e("i",{staticClass:"el-icon-folder-opened"}),e("span",{staticClass:"config_label"},[n._v("\u5E94\u7528\u8BE6\u60C5")])])])}],A=f(O,j,z,!1,null,"33ab9200",null,null);const B=A.exports;export{B as default};
